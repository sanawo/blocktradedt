================================================================================
  ZEABUR 部署 - 快速开始指南
================================================================================

📦 你的应用已准备好部署到 Zeabur！

🎯 3步部署流程：

┌─────────────────────────────────────────────────────────────────┐
│ 步骤 1: 推送到 GitHub                                            │
└─────────────────────────────────────────────────────────────────┘

在命令行执行：

  git init
  git add .
  git commit -m "Deploy to Zeabur"
  git remote add origin https://github.com/你的用户名/仓库名.git
  git push -u origin main

┌─────────────────────────────────────────────────────────────────┐
│ 步骤 2: 在 Zeabur 创建项目                                       │
└─────────────────────────────────────────────────────────────────┘

1. 访问: https://dash.zeabur.com
2. 点击 "New Project"
3. 选择区域 (推荐: Hong Kong)
4. 给项目命名

┌─────────────────────────────────────────────────────────────────┐
│ 步骤 3: 连接 GitHub 并部署                                       │
└─────────────────────────────────────────────────────────────────┘

1. 点击 "Add Service"
2. 选择 "Git"
3. 授权并选择你的 GitHub 仓库
4. 等待构建完成 (5-10分钟)
5. 完成！访问你的应用 URL

================================================================================

✅ 已准备的文件：

  ✓ Dockerfile                 - Docker 配置
  ✓ requirements.txt           - Python 依赖
  ✓ app_working.py            - 主应用（支持环境变量）
  ✓ .dockerignore             - Docker 忽略文件
  ✓ .gitignore                - Git 忽略文件
  ✓ artifacts/                - 向量索引（必需！）
  ✓ data/                     - 数据文件
  ✓ templates/                - HTML 模板
  ✓ static/                   - 静态文件

================================================================================

📚 详细文档：

  • deploy_to_zeabur.md        - 快速部署指南
  • ZEABUR_DEPLOYMENT.md       - 完整部署文档
  • DEPLOYMENT_CHECKLIST.md    - 部署检查清单
  • README_DEPLOY.md           - 项目说明

================================================================================

⚠️ 重要提示：

1. 确保 artifacts/ 目录已提交到 Git
   这个目录包含向量索引，是应用运行的必需文件！

2. 如果 artifacts/ 文件太大（>100MB），使用 Git LFS：
   git lfs install
   git lfs track "artifacts/*.npy"
   git add .gitattributes

3. 首次构建需要 5-10 分钟
   - 下载 Python 镜像
   - 安装依赖（sentence-transformers 较大）
   - 构建应用镜像

================================================================================

🔍 验证部署：

部署成功后，测试以下端点：

  ✓ https://你的服务名.zeabur.app/health
    应返回: {"status":"ok"}

  ✓ https://你的服务名.zeabur.app/
    应显示: 搜索界面

  ✓ 搜索功能测试
    输入 "copper" 或 "steel" 应返回结果

================================================================================

🛠️ 故障排查：

如果部署失败：

1. 查看 Build Logs
   - 找到红色错误信息
   - 通常是依赖安装或文件缺失

2. 查看 Runtime Logs  
   - 检查应用启动日志
   - 确认 "Vector store loaded successfully"

3. 常见问题：
   • 构建失败 → 检查 requirements.txt
   • 启动失败 → 确认 artifacts/ 已上传
   • 搜索失败 → 验证向量索引文件

================================================================================

💡 优化建议：

• 使用 Git LFS 管理大文件（如 .npy 文件）
• 在 Dockerfile 中优化依赖安装顺序
• 配置健康检查端点
• 设置环境变量（如需要）
• 启用自动部署（推送代码自动更新）

================================================================================

📞 需要帮助？

• Zeabur 文档: https://zeabur.com/docs
• Zeabur Discord: https://discord.gg/zeabur
• 查看详细文档: ZEABUR_DEPLOYMENT.md

================================================================================

🎉 准备好了吗？

执行以下命令开始部署：

  git add .
  git commit -m "Ready for Zeabur"
  git push

然后访问 https://dash.zeabur.com 完成部署！

================================================================================

