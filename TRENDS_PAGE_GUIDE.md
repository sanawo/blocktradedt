# 实时趋势页面使用指南

## 功能概述

实时趋势页面提供了大宗交易市场的实时数据监控和可视化分析。

## 访问地址

### 本地开发
```
http://localhost:8888/trends
```

### Zeabur 部署
```
https://blocktradedt.zeabur.app/trends
```

### 自定义域名
```
https://www.blocktradedt.xyz/trends
```

## 主要功能

### 1. 实时统计卡片
显示四个关键指标：
- **总交易数**: 当前总交易笔数
- **交易总量**: 累计交易量（吨）
- **平均价格**: 平均交易价格（元）
- **活跃卖家**: 当前活跃卖家数量

每个指标都显示与昨日的对比变化。

### 2. 趋势图表

#### 24小时交易量趋势
- 显示过去24小时的交易量变化
- 每小时一个数据点
- 折线图展示，带渐变填充

#### 价格指数趋势
- 显示价格指数的波动情况
- 实时更新
- 紫色主题配色

### 3. 热门排行榜

#### 热门交易类别
显示TOP 5交易类别：
- 钢材
- 煤炭
- 有色金属
- 化工产品
- 农产品

每个类别显示交易笔数和涨跌幅度。

#### 热门交易地区
显示TOP 5交易地区：
- 华东
- 华北
- 华南
- 西南
- 东北

每个地区显示交易笔数和占比。

### 4. 自动刷新功能
- 默认启用自动刷新
- 每30秒自动更新数据
- 可以手动开关自动刷新
- 显示最后更新时间

## 技术特性

### 前端技术
- **Chart.js**: 图表渲染
- **Particles.js**: 动态背景效果
- **响应式设计**: 支持移动端和桌面端
- **玻璃态设计**: 现代化UI风格

### 后端API
```
GET /api/trends/data
```

返回JSON格式的趋势数据：
```json
{
  "time_labels": ["00:00", "01:00", ...],
  "transaction_volumes": [120, 150, ...],
  "price_trends": [98.5, 99.2, ...],
  "categories": [
    {"name": "钢材", "count": 350, "change": 5.2},
    ...
  ],
  "regions": [
    {"name": "华东", "count": 450, "percentage": 28.5},
    ...
  ],
  "stats": {
    "total_transactions": 2500,
    "total_volume": 35000.0,
    "avg_price": 8500.0,
    "active_sellers": 320
  },
  "last_update": "2025-10-12 16:51:20"
}
```

## 使用建议

### 1. 监控市场动态
- 定期查看趋势图表，了解市场波动
- 关注热门类别和地区的变化

### 2. 数据分析
- 利用24小时趋势图识别交易高峰时段
- 通过价格指数趋势判断市场走向

### 3. 自动刷新设置
- 需要实时监控时，保持自动刷新开启
- 详细分析数据时，可暂时关闭自动刷新

## 浏览器兼容性

支持所有现代浏览器：
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 移动端优化

- 响应式布局自动适配
- 触摸操作优化
- 图表自动缩放

## 性能优化

- 图表使用Canvas渲染，性能优异
- 数据增量更新，减少网络传输
- 粒子背景可配置密度

## 故障排查

### 页面显示空白
1. 检查服务器是否正常运行
2. 查看浏览器控制台是否有错误
3. 确认 `/api/trends/data` 接口可访问

### 图表不显示
1. 确认 Chart.js 已正确加载
2. 检查网络连接
3. 清除浏览器缓存

### 自动刷新不工作
1. 检查刷新开关是否启用
2. 查看浏览器控制台是否有错误
3. 确认API接口正常响应

## 未来计划

- [ ] 添加更多时间范围选项（7天、30天）
- [ ] 支持数据导出功能
- [ ] 添加更多图表类型（饼图、柱状图）
- [ ] 实现数据对比功能
- [ ] 添加预警通知功能

## 反馈与支持

如有问题或建议，请联系开发团队。


