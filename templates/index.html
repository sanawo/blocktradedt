<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Block Trade DT - å¤§å®—äº¤æ˜“æ•°æ®å¹³å°</title>
  <link rel="stylesheet" href="/static/styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
</head>
<body>
  <!-- ç²’å­èƒŒæ™¯ -->
  <div id="particles-js"></div>
  
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <header class="main-header glassmorphism">
    <div class="header-container">
      <div class="header-left">
        <div class="logo">
          <span class="logo-icon">ğŸ“Š</span>
          <span class="logo-text">Block Trade DT</span>
        </div>
        <nav class="main-nav">
          <a href="/" class="nav-item active">
            <span class="nav-icon">ğŸ </span>
            <span>é¦–é¡µ</span>
          </a>
          <a href="/trends" class="nav-item">
            <span class="nav-icon">ğŸ“ˆ</span>
            <span>å®æ—¶è¶‹åŠ¿</span>
          </a>
          <a href="#" class="nav-item">
            <span class="nav-icon">ğŸ”</span>
            <span>æ™ºèƒ½æ£€ç´¢</span>
          </a>
        </nav>
      </div>
      <div class="header-right">
        <div class="market-status">
          <span class="status-dot online"></span>
          <span class="status-text">å®æ—¶æ›´æ–°</span>
        </div>
        <div class="user-profile" id="userProfile">
          <div class="user-avatar">
            <span>ğŸ‘¤</span>
          </div>
          <span class="username">ç”¨æˆ·</span>
        </div>
      </div>
    </div>
  </header>

  <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
  <main class="main-content">
    <!-- ä¸œæ–¹è´¢å¯Œæ•°æ®é¢æ¿ -->
    <section class="eastmoney-data-panel">
      <div class="data-container">
        <div class="data-header">
          <h2>ä¸œæ–¹è´¢å¯Œç½‘å¤§å®—äº¤æ˜“æ•°æ®</h2>
          <p>å®æ—¶æ›´æ–°çš„å¤§å®—äº¤æ˜“ä¿¡æ¯ï¼Œæ•°æ®æ¥æºï¼š<a href="https://data.eastmoney.com/dzjy/" target="_blank">ä¸œæ–¹è´¢å¯Œç½‘</a></p>
        </div>
        
        <!-- å¸‚åœºç»Ÿè®¡ -->
        <div class="market-stats-grid">
          <div class="stats-card glassmorphism">
            <div class="card-header">
              <h3>Aè‚¡å¸‚åœºç»Ÿè®¡</h3>
              <div class="update-time">æ›´æ–°æ—¶é—´: <span id="marketUpdateTime">2024-08-15 15:00</span></div>
            </div>
            <div class="stats-content">
              <div class="stat-row">
                <span class="stat-label">ä¸Šè¯æŒ‡æ•°</span>
                <span class="stat-value" id="shanghaiIndex">3,666.44</span>
                <span class="stat-change negative" id="shanghaiChange">-0.46%</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">å¤§å®—äº¤æ˜“æˆäº¤æ€»é¢</span>
                <span class="stat-value" id="totalAmount">62,034.99</span>
                <span class="stat-unit">ä¸‡å…ƒ</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">æº¢ä»·æˆäº¤æ€»é¢</span>
                <span class="stat-value" id="premiumAmount">258.45</span>
                <span class="stat-unit">ä¸‡å…ƒ</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">æŠ˜ä»·æˆäº¤æ€»é¢</span>
                <span class="stat-value" id="discountAmount">60,163.73</span>
                <span class="stat-unit">ä¸‡å…ƒ</span>
              </div>
            </div>
          </div>

          <div class="stats-card glassmorphism">
            <div class="card-header">
              <h3>æ¯æ—¥æ˜ç»†ç»Ÿè®¡</h3>
              <div class="update-time">æ•°æ®æ—¥æœŸ: <span id="detailDate">08æœˆ14æ—¥</span></div>
            </div>
            <div class="stats-content">
              <div class="stat-row">
                <span class="stat-label">æˆäº¤ç¬”æ•°</span>
                <span class="stat-value" id="tradeCount">156</span>
                <span class="stat-unit">ç¬”</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">æˆäº¤æ€»é‡</span>
                <span class="stat-value" id="tradeVolume">1,250.5</span>
                <span class="stat-unit">ä¸‡è‚¡</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">æˆäº¤æ€»é¢</span>
                <span class="stat-value" id="tradeAmount">45,678.9</span>
                <span class="stat-unit">ä¸‡å…ƒ</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">å¹³å‡æŠ˜æº¢ç‡</span>
                <span class="stat-value" id="avgDiscount">-2.5</span>
                <span class="stat-unit">%</span>
              </div>
            </div>
          </div>
        </div>

        <!-- æ´»è·ƒè‚¡ç¥¨ç»Ÿè®¡ -->
        <div class="active-stocks-panel">
          <div class="panel-header">
            <h3>æ´»è·ƒAè‚¡ç»Ÿè®¡</h3>
            <div class="time-filter">
              <button class="filter-btn active" data-period="1m">è¿‘ä¸€æœˆ</button>
              <button class="filter-btn" data-period="3m">è¿‘ä¸‰æœˆ</button>
              <button class="filter-btn" data-period="6m">è¿‘å…­æœˆ</button>
              <button class="filter-btn" data-period="1y">è¿‘ä¸€å¹´</button>
            </div>
          </div>
          <div class="stocks-table" id="activeStocksTable">
            <div class="table-header">
              <div class="table-cell">è¯åˆ¸ä»£ç </div>
              <div class="table-cell">è¯åˆ¸ç®€ç§°</div>
              <div class="table-cell">æœ€æ–°ä»·</div>
              <div class="table-cell">æ¶¨è·Œå¹…</div>
              <div class="table-cell">ä¸Šæ¦œæ¬¡æ•°</div>
              <div class="table-cell">æˆäº¤æ€»é¢(ä¸‡)</div>
              <div class="table-cell">æŠ˜æº¢ç‡(%)</div>
            </div>
            <div class="table-body" id="stocksTableBody">
              <!-- åŠ¨æ€å¡«å……æ•°æ® -->
            </div>
          </div>
        </div>

        <!-- è¥ä¸šéƒ¨ç»Ÿè®¡ -->
        <div class="broker-stats-panel">
          <div class="panel-header">
            <h3>æ´»è·ƒè¥ä¸šéƒ¨ç»Ÿè®¡</h3>
            <div class="time-filter">
              <button class="filter-btn active" data-period="1d">08æœˆ14æ—¥</button>
              <button class="filter-btn" data-period="3d">è¿‘3æ—¥</button>
              <button class="filter-btn" data-period="5d">è¿‘5æ—¥</button>
              <button class="filter-btn" data-period="10d">è¿‘10æ—¥</button>
            </div>
          </div>
          <div class="broker-table" id="brokerTable">
            <div class="table-header">
              <div class="table-cell">è¥ä¸šéƒ¨åç§°</div>
              <div class="table-cell">æœ€è¿‘ä¸Šæ¦œæ—¥</div>
              <div class="table-cell">æ¬¡æ•°ç»Ÿè®¡</div>
              <div class="table-cell">æˆäº¤é‡‘é¢(ä¸‡)</div>
              <div class="table-cell">ä¹°å…¥æ¬¡æ•°</div>
              <div class="table-cell">å–å‡ºæ¬¡æ•°</div>
            </div>
            <div class="table-body" id="brokerTableBody">
              <!-- åŠ¨æ€å¡«å……æ•°æ® -->
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- æ™ºèƒ½æ£€ç´¢åŒºåŸŸ -->
    <section class="search-section">
      <div class="search-container glassmorphism">
        <div class="search-header">
          <h1 class="search-title">AIæ™ºèƒ½å¤§å®—äº¤æ˜“æ£€ç´¢</h1>
          <p class="search-subtitle">åŸºäºä¸œæ–¹è´¢å¯Œç½‘æ•°æ®ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€æŸ¥è¯¢ï¼ŒAIæ·±åº¦åˆ†æäº¤æ˜“æ•°æ®</p>
        </div>
        <div class="search-bar-container">
          <div class="search-input-wrapper">
            <input id="query" class="search-input" type="text" placeholder="ä¾‹å¦‚ï¼šæŸ¥æ‰¾2024å¹´å¤§å®—äº¤æ˜“æ•°æ®ï¼Œåˆ†æé“œç›¸å…³äº¤æ˜“" />
            <button id="search-btn" class="search-btn">
              <span class="btn-icon">ğŸš€</span>
              <span>å¼€å§‹æ£€ç´¢</span>
            </button>
          </div>
          <div class="search-controls">
            <div class="control-group">
              <label class="control-label">
                <span>æ£€ç´¢æ•°é‡</span>
                <input id="topk" class="control-input" type="number" min="1" max="50" value="10" />
          </label>
              <label class="control-label">
                <span>AIåˆ†æ</span>
          <label class="switch">
                  <input id="use_llm" type="checkbox" checked />
            <span class="slider"></span>
                </label>
          </label>
            </div>
          </div>
        </div>
        <div class="search-suggestions">
          <span class="suggestion-chip" data-query="åˆ†æ2024å¹´å¤§å®—äº¤æ˜“è¶‹åŠ¿">åˆ†æ2024å¹´å¤§å®—äº¤æ˜“è¶‹åŠ¿</span>
          <span class="suggestion-chip" data-query="æŸ¥æ‰¾è‚¡ç¥¨å¤§å®—äº¤æ˜“æ•°æ®">æŸ¥æ‰¾è‚¡ç¥¨å¤§å®—äº¤æ˜“æ•°æ®</span>
          <span class="suggestion-chip" data-query="åŸºé‡‘å¤§å®—äº¤æ˜“åˆ†æ">åŸºé‡‘å¤§å®—äº¤æ˜“åˆ†æ</span>
        </div>
      </div>
    </section>

    <!-- å®æ—¶è¡Œæƒ…é¢æ¿ -->
    <section class="market-panel">
      <div class="market-container">
        <!-- ä¸Šè¯æŒ‡æ•°å¡ç‰‡ -->
        <div class="market-card glassmorphism primary-card">
          <div class="card-header">
            <h3>ä¸Šè¯æŒ‡æ•°</h3>
            <div class="card-status online">å®æ—¶</div>
          </div>
          <div class="index-display">
            <div class="index-value" id="indexValue">3,666.44</div>
            <div class="index-change negative" id="indexChange">-0.46%</div>
            <div class="trend-indicator">
              <span class="trend-tag">è¿è·Œ2å¤©</span>
              <div class="trend-chart">
                <canvas id="marketChart" width="200" height="60"></canvas>
              </div>
            </div>
          </div>
        </div>

        <!-- å…³é”®æŒ‡æ ‡ç½‘æ ¼ -->
        <div class="metrics-grid">
          <div class="metric-card glassmorphism">
            <div class="metric-icon">ğŸ’°</div>
            <div class="metric-content">
              <h4>æ€»æˆäº¤é¢</h4>
              <div class="metric-value" data-value="45678900">4567.89äº¿</div>
              <div class="metric-change positive">â†‘12.5%</div>
            </div>
          </div>
          <div class="metric-card glassmorphism">
            <div class="metric-icon">ğŸ“ˆ</div>
            <div class="metric-content">
              <h4>æ€»æˆäº¤é‡</h4>
              <div class="metric-value" data-value="1234567">123.46äº¿</div>
              <div class="metric-change negative">â†“3.2%</div>
            </div>
          </div>
          <div class="metric-card glassmorphism">
            <div class="metric-icon">ğŸ¢</div>
            <div class="metric-content">
              <h4>æ´»è·ƒè‚¡ç¥¨</h4>
              <div class="metric-value" data-value="2847">2847åª</div>
              <div class="metric-change positive">â†‘15åª</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Kçº¿å›¾åˆ†æåŒºåŸŸ -->
    <section class="chart-section">
      <div class="chart-container glassmorphism">
        <div class="chart-header">
          <div class="chart-title">
            <h3>å¤§å®—äº¤æ˜“Kçº¿åˆ†æ</h3>
            <div class="chart-subtitle">åŸºäºä¸œæ–¹è´¢å¯Œç½‘å®æ—¶æ•°æ®çš„å¤§å®—äº¤æ˜“èµ°åŠ¿åˆ†æ</div>
          </div>
          <div class="chart-controls">
            <div class="time-controls">
              <button class="time-btn active" data-period="1d">1æ—¥</button>
              <button class="time-btn" data-period="1w">1å‘¨</button>
              <button class="time-btn" data-period="1m">1æœˆ</button>
              <button class="time-btn" data-period="3m">3æœˆ</button>
            </div>
            <button class="ai-analysis-btn">
              <span class="ai-icon">ğŸ¤–</span>
              <span>AIè§£è¯»</span>
            </button>
          </div>
        </div>
        <div class="chart-content">
          <canvas id="klineChart" width="800" height="400"></canvas>
        </div>
      </div>
    </section>

    <!-- æœç´¢ç»“æœåŒºåŸŸ -->
    <section class="results-section" id="resultsSection" style="display: none;">
      <div class="results-container glassmorphism">
        <div class="results-header">
          <div class="results-info">
            <div id="result-count" class="result-count">å…± 0 æ¡ç»“æœ</div>
            <div class="search-time">æ£€ç´¢è€—æ—¶: <span id="searchTime">0.0s</span></div>
          </div>
        </div>
        <div id="summary" class="ai-summary"></div>
        <div id="results" class="results-grid"></div>
    </div>
    </section>

    <!-- AIèŠå¤©åŒºåŸŸ -->
    <section class="chat-section">
      <div class="chat-container glassmorphism">
        <div class="chat-header">
          <div class="chat-title">
            <h3>ğŸ¤– AIæ™ºèƒ½åŠ©æ‰‹</h3>
            <div class="chat-subtitle">åŸºäºæ™ºè°±AIçš„ä¸“ä¸šé‡‘èåˆ†æåŠ©æ‰‹</div>
          </div>
          <div class="chat-actions">
            <button class="ai-analysis-btn" id="aiAnalysisBtn" onclick="getAIMarketAnalysis()">
              <span>ğŸ“Š</span>
              <span>å¸‚åœºåˆ†æ</span>
            </button>
            <button class="clear-chat-btn" onclick="clearChat()">
              <span>ğŸ—‘ï¸</span>
              <span>æ¸…ç©º</span>
            </button>
          </div>
        </div>
        <div class="chat-messages" id="chatMessages">
          <div class="message assistant">
            <div class="message-avatar">ğŸ¤–</div>
            <div class="message-content">
              <div class="message-text">
                æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„ä¸“ä¸šé‡‘èåˆ†æåŠ©æ‰‹ï¼ŒåŸºäºæ™ºè°±AIæŠ€æœ¯ã€‚æˆ‘å¯ä»¥å¸®æ‚¨ï¼š
                <br>â€¢ åˆ†æå¤§å®—äº¤æ˜“å¸‚åœºæ•°æ®
                <br>â€¢ è§£è¯»Kçº¿å›¾å’Œè¶‹åŠ¿
                <br>â€¢ æä¾›æŠ•èµ„å»ºè®®å’Œé£é™©è¯„ä¼°
                <br>â€¢ å›ç­”é‡‘èç›¸å…³é—®é¢˜
                <br><br>è¯·å‘Šè¯‰æˆ‘æ‚¨æƒ³äº†è§£ä»€ä¹ˆï¼Ÿ
              </div>
              <div class="message-time">åˆšåˆš</div>
            </div>
          </div>
        </div>
        <div class="chat-input-container">
          <div class="chat-input-wrapper">
            <input type="text" id="aiMessageInput" placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜..." class="chat-input">
            <button class="chat-send-btn" onclick="handleAIChat()">
              <span>å‘é€</span>
            </button>
          </div>
          <div class="chat-suggestions">
            <span class="chat-suggestion" onclick="sendSuggestion('è¯·åˆ†æå½“å‰å¤§å®—äº¤æ˜“å¸‚åœºè¶‹åŠ¿')">åˆ†æå¸‚åœºè¶‹åŠ¿</span>
            <span class="chat-suggestion" onclick="sendSuggestion('å¦‚ä½•è§£è¯»Kçº¿å›¾ï¼Ÿ')">è§£è¯»Kçº¿å›¾</span>
            <span class="chat-suggestion" onclick="sendSuggestion('å¤§å®—äº¤æ˜“çš„é£é™©æœ‰å“ªäº›ï¼Ÿ')">é£é™©è¯„ä¼°</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- ç™»å½•æ¨¡æ€æ¡† -->
  <div class="modal" id="loginModal" style="display: none;">
    <div class="modal-content glassmorphism">
      <div class="modal-header">
        <h3>ç”¨æˆ·ç™»å½•</h3>
        <button class="close-btn" onclick="closeModal('loginModal')">Ã—</button>
      </div>
      <div class="modal-body">
        <form id="loginForm">
          <div class="form-group">
            <label for="loginUsername">ç”¨æˆ·å</label>
            <input type="text" id="loginUsername" required>
          </div>
          <div class="form-group">
            <label for="loginPassword">å¯†ç </label>
            <input type="password" id="loginPassword" required>
          </div>
          <button type="submit" class="btn-primary">ç™»å½•</button>
        </form>
        <p class="form-footer">
          è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ<a href="#" onclick="showModal('registerModal')">ç«‹å³æ³¨å†Œ</a>
        </p>
      </div>
    </div>
  </div>

  <!-- æ³¨å†Œæ¨¡æ€æ¡† -->
  <div class="modal" id="registerModal" style="display: none;">
    <div class="modal-content glassmorphism">
      <div class="modal-header">
        <h3>ç”¨æˆ·æ³¨å†Œ</h3>
        <button class="close-btn" onclick="closeModal('registerModal')">Ã—</button>
      </div>
      <div class="modal-body">
        <form id="registerForm">
          <div class="form-group">
            <label for="registerUsername">ç”¨æˆ·å</label>
            <input type="text" id="registerUsername" required>
          </div>
          <div class="form-group">
            <label for="registerEmail">é‚®ç®±</label>
            <input type="email" id="registerEmail" required>
          </div>
          <div class="form-group">
            <label for="registerPassword">å¯†ç </label>
            <input type="password" id="registerPassword" required>
          </div>
          <div class="form-group">
            <label for="registerFullName">å§“å</label>
            <input type="text" id="registerFullName">
          </div>
          <button type="submit" class="btn-primary">æ³¨å†Œ</button>
        </form>
        <p class="form-footer">
          å·²æœ‰è´¦å·ï¼Ÿ<a href="#" onclick="showModal('loginModal')">ç«‹å³ç™»å½•</a>
        </p>
      </div>
    </div>
  </div>

  <!-- åŠ è½½åŠ¨ç”» -->
  <div class="loading-overlay" id="loadingOverlay" style="display: none;">
    <div class="loading-content">
      <div class="loading-spinner"></div>
      <div class="loading-text">AIæ­£åœ¨åˆ†æä¸­...</div>
    </div>
  </div>

  <script>
    // å…¨å±€å˜é‡
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => document.querySelectorAll(sel);
    
    // DOMå…ƒç´ 
    const searchBtn = $('#search-btn');
    const query = $('#query');
    const topk = $('#topk');
    const useLLM = $('#use_llm');
    const resultsSection = $('#resultsSection');
    const resultsEl = $('#results');
    const summaryEl = $('#summary');
    const countEl = $('#result-count');
    const searchTimeEl = $('#searchTime');
    const loadingOverlay = $('#loadingOverlay');
    const userProfile = $('#userProfile');

    // ç”¨æˆ·è®¤è¯ç›¸å…³
    let currentUser = null;
    let accessToken = localStorage.getItem('accessToken');

    // ä¸œæ–¹è´¢å¯Œç½‘æ•°æ®
    const eastmoneyData = {
      market: {
        shanghaiIndex: 3666.44,
        shanghaiChange: -0.46,
        shanghaiChangePercent: -0.46,
        totalAmount: 62034.99, // ä¸‡å…ƒ
        premiumAmount: 258.45, // ä¸‡å…ƒ
        discountAmount: 60163.73 // ä¸‡å…ƒ
      },
      daily: {
        tradeCount: 156,
        tradeVolume: 1250.5, // ä¸‡è‚¡
        tradeAmount: 45678.9, // ä¸‡å…ƒ
        avgDiscount: -2.5 // %
      },
      activeStocks: [
        { code: '000001', name: 'å¹³å®‰é“¶è¡Œ', price: 12.34, change: 2.5, count: 15, amount: 12345.6, discount: -1.2 },
        { code: '000002', name: 'ä¸‡ç§‘A', price: 18.56, change: -1.2, count: 12, amount: 9876.5, discount: -2.1 },
        { code: '000858', name: 'äº”ç²®æ¶²', price: 156.78, change: 3.4, count: 8, amount: 8765.4, discount: 0.5 },
        { code: '002415', name: 'æµ·åº·å¨è§†', price: 34.56, change: 1.8, count: 10, amount: 6543.2, discount: -1.8 },
        { code: '600036', name: 'æ‹›å•†é“¶è¡Œ', price: 45.67, change: -0.9, count: 9, amount: 5432.1, discount: -0.7 }
      ],
      activeBrokers: [
        { name: 'ä¸­ä¿¡è¯åˆ¸åŒ—äº¬æ€»éƒ¨', lastDate: '2024-08-14', count: 25, amount: 12345.6, buyCount: 15, sellCount: 10 },
        { name: 'å›½æ³°å›å®‰ä¸Šæµ·æ±Ÿè‹è·¯', lastDate: '2024-08-14', count: 18, amount: 9876.5, buyCount: 12, sellCount: 6 },
        { name: 'åæ³°è¯åˆ¸å—äº¬ä¸­å±±è·¯', lastDate: '2024-08-14', count: 15, amount: 8765.4, buyCount: 8, sellCount: 7 },
        { name: 'æ‹›å•†è¯åˆ¸æ·±åœ³æ·±å—å¤§é“', lastDate: '2024-08-14', count: 12, amount: 6543.2, buyCount: 7, sellCount: 5 },
        { name: 'å¹¿å‘è¯åˆ¸å¹¿å·å¤©æ²³è·¯', lastDate: '2024-08-14', count: 10, amount: 5432.1, buyCount: 6, sellCount: 4 }
      ]
    };

    // ç²’å­èƒŒæ™¯é…ç½®
    particlesJS('particles-js', {
      particles: {
        number: { value: 80, density: { enable: true, value_area: 800 } },
        color: { value: '#3b82f6' },
        shape: { type: 'circle' },
        opacity: { value: 0.5, random: false },
        size: { value: 3, random: true },
        line_linked: {
          enable: true,
          distance: 150,
          color: '#3b82f6',
          opacity: 0.4,
          width: 1
        },
        move: {
          enable: true,
          speed: 2,
          direction: 'none',
          random: false,
          straight: false,
          out_mode: 'out',
          bounce: false
        }
      },
      interactivity: {
        detect_on: 'canvas',
        events: {
          onhover: { enable: true, mode: 'repulse' },
          onclick: { enable: true, mode: 'push' },
          resize: true
        }
      },
      retina_detect: true
    });

    // åŠ¨æ€æ•°å­—åŠ¨ç”»
    function animateNumber(element, target, duration = 2000) {
      const start = parseFloat(element.textContent.replace(/[^\d.-]/g, '')) || 0;
      const increment = (target - start) / (duration / 16);
      let current = start;
      
      const timer = setInterval(() => {
        current += increment;
        if ((increment > 0 && current >= target) || (increment < 0 && current <= target)) {
          current = target;
          clearInterval(timer);
        }
        
        // æ ¼å¼åŒ–æ•°å­—
        if (target >= 100000000) {
          element.textContent = (current / 100000000).toFixed(2) + 'äº¿';
        } else if (target >= 10000) {
          element.textContent = (current / 10000).toFixed(2) + 'ä¸‡';
        } else {
          element.textContent = current.toFixed(2);
        }
      }, 16);
    }

    // åˆå§‹åŒ–åŠ¨æ€æ•°å­—
    function initAnimatedNumbers() {
      $$('.metric-value').forEach(el => {
        const value = parseInt(el.getAttribute('data-value'));
        if (value) {
          animateNumber(el, value);
        }
      });
    }

    // æ›´æ–°ä¸œæ–¹è´¢å¯Œç½‘æ•°æ®
    function updateEastmoneyData() {
      // æ›´æ–°å¸‚åœºæ•°æ®
      $('#shanghaiIndex').textContent = eastmoneyData.market.shanghaiIndex.toFixed(2);
      $('#shanghaiChange').textContent = `${eastmoneyData.market.shanghaiChange >= 0 ? '+' : ''}${eastmoneyData.market.shanghaiChange.toFixed(2)}%`;
      $('#totalAmount').textContent = eastmoneyData.market.totalAmount.toFixed(2);
      $('#premiumAmount').textContent = eastmoneyData.market.premiumAmount.toFixed(2);
      $('#discountAmount').textContent = eastmoneyData.market.discountAmount.toFixed(2);
      
      // æ›´æ–°æ¯æ—¥æ˜ç»†æ•°æ®
      $('#tradeCount').textContent = eastmoneyData.daily.tradeCount;
      $('#tradeVolume').textContent = eastmoneyData.daily.tradeVolume.toFixed(1);
      $('#tradeAmount').textContent = eastmoneyData.daily.tradeAmount.toFixed(1);
      $('#avgDiscount').textContent = eastmoneyData.daily.avgDiscount.toFixed(1);
      
      // æ›´æ–°æ—¶é—´
      const now = new Date();
      const timeStr = now.toLocaleString('zh-CN');
      $('#marketUpdateTime').textContent = timeStr;
      $('#detailDate').textContent = now.toLocaleDateString('zh-CN', { month: '2-digit', day: '2-digit' });
    }

    // æ¸²æŸ“æ´»è·ƒè‚¡ç¥¨è¡¨æ ¼
    function renderActiveStocks() {
      const tbody = $('#stocksTableBody');
      tbody.innerHTML = '';
      
      eastmoneyData.activeStocks.forEach(stock => {
        const row = document.createElement('div');
        row.className = 'table-row';
        row.innerHTML = `
          <div class="table-cell">${stock.code}</div>
          <div class="table-cell">${stock.name}</div>
          <div class="table-cell">${stock.price}</div>
          <div class="table-cell ${stock.change >= 0 ? 'positive' : 'negative'}">${stock.change >= 0 ? '+' : ''}${stock.change}%</div>
          <div class="table-cell">${stock.count}</div>
          <div class="table-cell">${stock.amount.toFixed(1)}</div>
          <div class="table-cell ${stock.discount >= 0 ? 'positive' : 'negative'}">${stock.discount >= 0 ? '+' : ''}${stock.discount}%</div>
        `;
        tbody.appendChild(row);
      });
    }

    // æ¸²æŸ“è¥ä¸šéƒ¨è¡¨æ ¼
    function renderBrokerTable() {
      const tbody = $('#brokerTableBody');
      tbody.innerHTML = '';
      
      eastmoneyData.activeBrokers.forEach(broker => {
        const row = document.createElement('div');
        row.className = 'table-row';
        row.innerHTML = `
          <div class="table-cell">${broker.name}</div>
          <div class="table-cell">${broker.lastDate}</div>
          <div class="table-cell">${broker.count}</div>
          <div class="table-cell">${broker.amount.toFixed(1)}</div>
          <div class="table-cell">${broker.buyCount}</div>
          <div class="table-cell">${broker.sellCount}</div>
        `;
        tbody.appendChild(row);
      });
    }

    // åˆå§‹åŒ–Kçº¿å›¾
    function initKlineChart() {
      const ctx = document.getElementById('klineChart').getContext('2d');
      const gradient = ctx.createLinearGradient(0, 0, 0, 400);
      gradient.addColorStop(0, 'rgba(59, 130, 246, 0.3)');
      gradient.addColorStop(1, 'rgba(59, 130, 246, 0.0)');
      
      const chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00'],
          datasets: [{
            label: 'å¤§å®—äº¤æ˜“æŒ‡æ•°',
            data: [3660, 3665, 3670, 3668, 3675, 3678, 3676, 3677],
            borderColor: '#3b82f6',
            backgroundColor: gradient,
            borderWidth: 3,
            fill: true,
            tension: 0.4,
            pointRadius: 0,
            pointHoverRadius: 6,
            pointHoverBackgroundColor: '#3b82f6'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false },
            tooltip: {
              backgroundColor: 'rgba(0, 0, 0, 0.8)',
              titleColor: '#fff',
              bodyColor: '#fff',
              borderColor: '#3b82f6',
              borderWidth: 1
            }
          },
          scales: {
            y: {
              beginAtZero: false,
              grid: {
                color: 'rgba(0, 0, 0, 0.1)',
                drawBorder: false
              },
              ticks: {
                color: '#64748b',
                font: { size: 12 }
              }
            },
            x: {
              grid: {
                display: false
              },
              ticks: {
                color: '#64748b',
                font: { size: 12 }
              }
            }
          },
          interaction: {
            intersect: false,
            mode: 'index'
          }
        }
      });
      return chart;
    }

    // åˆå§‹åŒ–å¤§ç›˜æŒ‡æ•°å›¾
    function initMarketChart() {
      const ctx = document.getElementById('marketChart').getContext('2d');
      const gradient = ctx.createLinearGradient(0, 0, 0, 60);
      gradient.addColorStop(0, 'rgba(239, 68, 68, 0.3)');
      gradient.addColorStop(1, 'rgba(239, 68, 68, 0.0)');
      
      const chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['', '', '', '', '', '', '', ''],
          datasets: [{
            data: [3665, 3668, 3670, 3672, 3674, 3676, 3677, 3678],
            borderColor: '#ef4444',
            backgroundColor: gradient,
            borderWidth: 2,
            fill: true,
            tension: 0.4,
            pointRadius: 0
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: { legend: { display: false } },
          scales: {
            y: { display: false },
            x: { display: false }
          }
        }
      });
      return chart;
    }

    // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
    function showLoading() {
      if (loadingOverlay) {
        loadingOverlay.style.display = 'flex';
      }
    }

    // éšè—åŠ è½½åŠ¨ç”»
    function hideLoading() {
      if (loadingOverlay) {
        loadingOverlay.style.display = 'none';
      }
    }

    // æ¸²æŸ“éª¨æ¶å±
    function renderSkeleton(n = 6) {
      const items = Array.from({ length: n }).map(() => 
        `<div class="result-card glassmorphism skeleton">
           <div class="card-header">
           <div class="sk-title"></div>
             <div class="sk-badge"></div>
           </div>
           <div class="card-content">
           <div class="sk-line w-80"></div>
           <div class="sk-line w-60"></div>
             <div class="sk-line w-40"></div>
           </div>
         </div>`
      ).join('');
      resultsEl.innerHTML = items;
    }

    // åˆ›å»ºæ ‡ç­¾
    function makeTags(tags) {
      if (!tags || !tags.length) return '';
      return `<div class="tags">${tags.map(t => `<span class="tag">${t}</span>`).join('')}</div>`;
    }

    // æœç´¢åŠŸèƒ½
    async function performSearch() {
      const payload = {
        query: query.value.trim(),
        top_k: Number(topk.value) || 10,
        use_llm: useLLM.checked
      };
      
      if (!payload.query) {
        query.focus();
        return;
      }

      showLoading();
      resultsSection.style.display = 'block';
      summaryEl.textContent = '';
      countEl.textContent = '';
      renderSkeleton();
      
      const startTime = Date.now();
      
      try {
        const headers = {
          'Content-Type': 'application/json'
        };
        
        // å¦‚æœç”¨æˆ·å·²ç™»å½•ï¼Œæ·»åŠ è®¤è¯å¤´
        if (accessToken) {
          headers['Authorization'] = `Bearer ${accessToken}`;
        }
        
        const resp = await fetch('/api/search', {
          method: 'POST',
          headers: headers,
          body: JSON.stringify(payload)
        });
        
        if (!resp.ok) {
          const text = await resp.text();
          resultsEl.innerHTML = `<div class="error-message">${text}</div>`;
          return;
        }
        
        const data = await resp.json();
        const endTime = Date.now();
        const searchTime = ((endTime - startTime) / 1000).toFixed(1);
        
        searchTimeEl.textContent = searchTime + 's';
        summaryEl.innerHTML = data.summary ? `<div class="summary-content">${data.summary}</div>` : '';
        countEl.textContent = `å…± ${data.results.length} æ¡ç»“æœ`;
        resultsEl.innerHTML = '';
        
        data.results.forEach((r) => {
          const l = r.listing;
          const div = document.createElement('div');
          div.className = 'result-card glassmorphism';
          div.innerHTML = `
            <div class="card-header">
              <h3 class="card-title">${l.title}</h3>
              <div class="score-badge">${r.score.toFixed(3)}</div>
            </div>
            <div class="card-content">
              <div class="meta-info">
                <span class="meta-item">ç±»åˆ«ï¼š${l.category || 'æœªçŸ¥'}</span>
                <span class="meta-item">åœ°åŒºï¼š${l.region || 'æœªçŸ¥'}</span>
                <span class="meta-item">ä»·æ ¼ï¼š${l.price ?? 'é¢è®®'}${l.unit || ''}</span>
                <span class="meta-item">å–å®¶ï¼š${l.seller || 'æœªçŸ¥'}</span>
                <span class="meta-item">æ—¥æœŸï¼š${l.date || 'æœªçŸ¥'}</span>
              </div>
              ${makeTags(l.tags)}
              <div class="description">${l.description || ''}</div>
                            </div>
          `;
          resultsEl.appendChild(div);
        });
        
      } catch (e) {
        resultsEl.innerHTML = `<div class="error-message">æœç´¢å¤±è´¥ï¼š${e.message}</div>`;
      } finally {
        hideLoading();
      }
    }

    // æ£€æŸ¥è®¤è¯çŠ¶æ€
    async function checkAuthStatus() {
      if (accessToken) {
        try {
          const response = await fetch('/api/user/profile', {
            headers: {
              'Authorization': `Bearer ${accessToken}`
            }
          });
          
          if (response.ok) {
            currentUser = await response.json();
            updateUserDisplay();
          } else {
            localStorage.removeItem('accessToken');
            accessToken = null;
          }
        } catch (error) {
          console.error('æ£€æŸ¥è®¤è¯çŠ¶æ€å¤±è´¥:', error);
        }
      }
    }

    // æ›´æ–°ç”¨æˆ·æ˜¾ç¤º
    function updateUserDisplay() {
      if (currentUser) {
        userProfile.querySelector('.username').textContent = currentUser.username;
        userProfile.querySelector('.user-avatar span').textContent = 'ğŸ‘¤';
      } else {
        userProfile.querySelector('.username').textContent = 'ç”¨æˆ·';
        userProfile.querySelector('.user-avatar span').textContent = 'ğŸ‘¤';
      }
    }

    // æ˜¾ç¤ºæ¨¡æ€æ¡†
    function showModal(modalId) {
      document.getElementById(modalId).style.display = 'flex';
    }

    // å…³é—­æ¨¡æ€æ¡†
    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
    }

    // äº‹ä»¶ç›‘å¬å™¨
    searchBtn.addEventListener('click', performSearch);
    query.addEventListener('keydown', (e) => { 
      if (e.key === 'Enter') performSearch(); 
    });
    
    // ç”¨æˆ·å¤´åƒç‚¹å‡»äº‹ä»¶
    userProfile.addEventListener('click', function() {
      if (currentUser) {
        if (confirm('æ˜¯å¦è¦é€€å‡ºç™»å½•ï¼Ÿ')) {
          currentUser = null;
          accessToken = null;
          localStorage.removeItem('accessToken');
          updateUserDisplay();
        }
      } else {
        showModal('loginModal');
      }
    });

    // ç™»å½•è¡¨å•æäº¤
    document.getElementById('loginForm').addEventListener('submit', async function(event) {
      event.preventDefault();
      
      const username = document.getElementById('loginUsername').value;
      const password = document.getElementById('loginPassword').value;
      
      try {
        const response = await fetch('/api/login', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ username, password })
        });
        
        if (response.ok) {
          const data = await response.json();
          accessToken = data.access_token;
          currentUser = data.user;
          
          localStorage.setItem('accessToken', accessToken);
          updateUserDisplay();
          closeModal('loginModal');
          
          // æ¸…ç©ºè¡¨å•
          document.getElementById('loginForm').reset();
        } else {
          const error = await response.json();
          alert(error.detail);
        }
      } catch (error) {
        console.error('ç™»å½•å¤±è´¥:', error);
        alert('ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•');
      }
    });

    // æ³¨å†Œè¡¨å•æäº¤
    document.getElementById('registerForm').addEventListener('submit', async function(event) {
      event.preventDefault();
      
      const username = document.getElementById('registerUsername').value;
      const email = document.getElementById('registerEmail').value;
      const password = document.getElementById('registerPassword').value;
      const fullName = document.getElementById('registerFullName').value;
      
      try {
        const response = await fetch('/api/register', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ username, email, password, full_name: fullName })
        });
        
        if (response.ok) {
          alert('æ³¨å†ŒæˆåŠŸï¼è¯·ç™»å½•');
          closeModal('registerModal');
          showModal('loginModal');
          
          // æ¸…ç©ºè¡¨å•
          document.getElementById('registerForm').reset();
        } else {
          const error = await response.json();
          alert(error.detail);
        }
      } catch (error) {
        console.error('æ³¨å†Œå¤±è´¥:', error);
        alert('æ³¨å†Œå¤±è´¥ï¼Œè¯·é‡è¯•');
      }
    });

    // æœç´¢å»ºè®®ç‚¹å‡»
    $$('.suggestion-chip').forEach(chip => {
      chip.addEventListener('click', () => {
        const queryText = chip.getAttribute('data-query');
        query.value = queryText;
        performSearch();
      });
    });

    // æ—¶é—´æŒ‰é’®åˆ‡æ¢
    $$('.time-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        $$('.time-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        // è¿™é‡Œå¯ä»¥æ›´æ–°Kçº¿å›¾æ•°æ®
      });
    });

    // ç­›é€‰æŒ‰é’®åˆ‡æ¢
    $$('.filter-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const parent = btn.closest('.time-filter');
        parent.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        // è¿™é‡Œå¯ä»¥æ›´æ–°è¡¨æ ¼æ•°æ®
      });
    });

    // AIèŠå¤©åŠŸèƒ½
    function addMessageToChat(role, content, isLoading = false) {
      const chatMessages = document.getElementById('chatMessages');
      if (!chatMessages) return null;
      
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${role}`;
      
      const avatar = role === 'user' ? 'ğŸ‘¤' : 'ğŸ¤–';
      const time = new Date().toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' });
      
      messageDiv.innerHTML = `
        <div class="message-avatar">${avatar}</div>
        <div class="message-content">
          <div class="message-text">${content}</div>
          <div class="message-time">${time}</div>
        </div>
      `;
      
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      return messageDiv;
    }

    // å¤„ç†AIèŠå¤©
    async function handleAIChat() {
      const messageInput = document.getElementById('aiMessageInput');
      const message = messageInput.value.trim();
      if (!message) return;
      
      // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯åˆ°èŠå¤©ç•Œé¢
      addMessageToChat('user', message);
      messageInput.value = '';
      
      // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
      const loadingMessage = addMessageToChat('assistant', 'æ­£åœ¨æ€è€ƒ...', true);
      
      try {
        const response = await fetch('/api/chat', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            message: message,
            system_prompt: "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„é‡‘èåˆ†æå¸ˆï¼Œä¸“é—¨åˆ†æå¤§å®—äº¤æ˜“æ•°æ®ã€‚è¯·ç”¨ä¸­æ–‡å›ç­”ï¼Œè¯­è¨€è¦ä¸“ä¸šã€å‡†ç¡®ã€‚è¯·å§‹ç»ˆä½¿ç”¨ä¸­æ–‡å›å¤ï¼Œä¸è¦ä½¿ç”¨è‹±æ–‡ã€‚"
          })
        });
        
        const data = await response.json();
        
        // ç§»é™¤åŠ è½½æ¶ˆæ¯
        if (loadingMessage && loadingMessage.parentNode) {
          loadingMessage.parentNode.removeChild(loadingMessage);
        }
        
        // æ·»åŠ AIå›å¤
        addMessageToChat('assistant', data.response);
        
      } catch (error) {
        console.error('AIèŠå¤©å¤±è´¥:', error);
        if (loadingMessage && loadingMessage.parentNode) {
          loadingMessage.parentNode.removeChild(loadingMessage);
        }
        addMessageToChat('assistant', 'æŠ±æ­‰ï¼ŒAIæœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•ã€‚');
      }
    }

    // è·å–AIå¸‚åœºåˆ†æ
    async function getAIMarketAnalysis() {
      const analysisBtn = document.getElementById('aiAnalysisBtn');
      const originalText = analysisBtn.textContent;
      analysisBtn.textContent = 'åˆ†æä¸­...';
      analysisBtn.disabled = true;
      
      try {
        const response = await fetch('/api/chat/analyze', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          }
        });
        
        const data = await response.json();
        
        if (data.success) {
          // åœ¨èŠå¤©ç•Œé¢æ˜¾ç¤ºåˆ†æç»“æœ
          addMessageToChat('assistant', `ğŸ“Š **AIå¸‚åœºåˆ†æ**\n\n${data.analysis}`);
        } else {
          addMessageToChat('assistant', 'æŠ±æ­‰ï¼ŒAIåˆ†ææœåŠ¡æš‚æ—¶ä¸å¯ç”¨ã€‚');
        }
        
      } catch (error) {
        console.error('AIåˆ†æå¤±è´¥:', error);
        addMessageToChat('assistant', 'æŠ±æ­‰ï¼ŒAIåˆ†ææœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•ã€‚');
      } finally {
        analysisBtn.textContent = originalText;
        analysisBtn.disabled = false;
      }
    }

    // å‘é€å»ºè®®é—®é¢˜
    function sendSuggestion(suggestion) {
      document.getElementById('aiMessageInput').value = suggestion;
      handleAIChat();
    }

    // æ¸…ç©ºèŠå¤©è®°å½•
    function clearChat() {
      const chatMessages = document.getElementById('chatMessages');
      chatMessages.innerHTML = `
        <div class="message assistant">
          <div class="message-avatar">ğŸ¤–</div>
          <div class="message-content">
            <div class="message-text">
              æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„ä¸“ä¸šé‡‘èåˆ†æåŠ©æ‰‹ï¼ŒåŸºäºæ™ºè°±AIæŠ€æœ¯ã€‚æˆ‘å¯ä»¥å¸®æ‚¨ï¼š
              <br>â€¢ åˆ†æå¤§å®—äº¤æ˜“å¸‚åœºæ•°æ®
              <br>â€¢ è§£è¯»Kçº¿å›¾å’Œè¶‹åŠ¿
              <br>â€¢ æä¾›æŠ•èµ„å»ºè®®å’Œé£é™©è¯„ä¼°
              <br>â€¢ å›ç­”é‡‘èç›¸å…³é—®é¢˜
              <br><br>è¯·å‘Šè¯‰æˆ‘æ‚¨æƒ³äº†è§£ä»€ä¹ˆï¼Ÿ
            </div>
            <div class="message-time">åˆšåˆš</div>
          </div>
        </div>
      `;
    }

    // èŠå¤©è¾“å…¥æ¡†å›è½¦äº‹ä»¶
    document.addEventListener('DOMContentLoaded', () => {
      const messageInput = document.getElementById('aiMessageInput');
      if (messageInput) {
        messageInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            handleAIChat();
          }
        });
      }
    });

    // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', () => {
      initKlineChart();
      initMarketChart();
      initAnimatedNumbers();
      updateEastmoneyData();
      renderActiveStocks();
      renderBrokerTable();
      checkAuthStatus();
      
      // æ·»åŠ ä¸€äº›åŠ¨ç”»æ•ˆæœ
      setTimeout(() => {
        document.body.classList.add('loaded');
      }, 100);
      
      // å®šæ—¶æ›´æ–°æ•°æ®
      setInterval(updateEastmoneyData, 30000); // æ¯30ç§’æ›´æ–°ä¸€æ¬¡
    });
  </script>

  <!-- é¡µè„š -->
  <footer class="main-footer">
    <div class="footer-container">
      <div class="footer-content">
        <div class="footer-title">
          <h2>Block Trade DT</h2>
        </div>
        <div class="footer-description">
          <p>ä¸“ä¸šçš„å¤§å®—äº¤æ˜“æ•°æ®å¹³å°ï¼Œä¸ºæ‚¨æä¾›å®æ—¶ã€å‡†ç¡®çš„å¸‚åœºä¿¡æ¯</p>
          <p>åŸºäºæ™ºè°±AIæŠ€æœ¯ï¼Œæ™ºèƒ½åˆ†æå¸‚åœºè¶‹åŠ¿ï¼ŒåŠ©åŠ›æŠ•èµ„å†³ç­–</p>
        </div>
        <div class="footer-social">
          <a href="https://www.douyin.com/user/MS4wLjABAAAAkBUw0RHPp3VqepZHs6YB8nzjlQygC3Lr4ZuRLkgvabE?enter_from=general_search&enter_method=general_search&extra_params=%7B%22search_params%22%3A%7B%22search_result_id%22%3A%2268425914449%22%2C%22relation_tag%22%3A0%2C%22log_pb%22%3A%7B%22impr_id%22%3A%222025081515391302E704D8456ADD5031FE%22%7D%2C%22search_type%22%3A%22general%22%2C%22impr_id%22%3A%222025081515391302E704D8456ADD5031FE%22%2C%22search_id%22%3A%222025081515391302E704D8456ADD5031FE%22%2C%22search_keyword%22%3A%22sanawo%22%2C%22token_type%22%3A%22discover_list%22%7D%7D&from_tab_name=main" target="_blank" class="social-link douyin">
            <span class="social-icon">æŠ–éŸ³</span>
          </a>
          <a href="https://weibo.com/u/6136590501" target="_blank" class="social-link weibo">
            <span class="social-icon">å¾®åš</span>
          </a>
          <a href="#" class="social-link wechat">
            <span class="social-icon">å¾®ä¿¡</span>
          </a>
        </div>
      </div>
    </div>
  </footer>
</body>
</html>